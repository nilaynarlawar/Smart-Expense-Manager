{"version":3,"sources":["./src/app/pages/viewexpense/viewexpense.page.html","./src/app/pages/viewexpense/viewexpense.module.ts","./src/app/pages/viewexpense/viewexpense.page.scss","./src/app/pages/viewexpense/viewexpense.page.ts"],"names":[],"mappings":"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","file":"pages-viewexpense-viewexpense-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n<!--    <ion-title>viewexpense</ion-title>-->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-grid fixed>\\n      <ion-item>\\n          <ion-row>\\n              <ion-col>\\n                  <div>\\n                      <ion-label>Select Option</ion-label>\\n                      <ion-select>\\n                          <ion-select-option>Week</ion-select-option>\\n                          <ion-select-option>Month</ion-select-option>\\n                          <ion-select-option selected>Year</ion-select-option>\\n                      </ion-select>\\n                  </div>\\n              </ion-col>\\n               <ion-col>\\n                  <div>\\n                      <ion-label>Download as CSV</ion-label>\\n                      <ion-button color=\\\"dark\\\" align-items-end (click)=\\\"downloadCSV()\\\">\\n                          <ion-icon name=\\\"md-download\\\" color=\\\"light\\\" align-self-center></ion-icon>\\n                      </ion-button>\\n                  </div>\\n              </ion-col>\\n          </ion-row>\\n      </ion-item>\\n  </ion-grid>\\n<!--    <ion-grid fixed>-->\\n<!--        <ion-item>-->\\n<!--            <ion-button color=\\\"dark\\\" align-items-end>-->\\n<!--                <ion-icon name=\\\"md-download\\\" color=\\\"light\\\" align-self-center></ion-icon>-->\\n<!--            </ion-button>-->\\n<!--        </ion-item>-->\\n<!--    </ion-grid>-->\\n  <ion-grid fixed>\\n    <ion-row>\\n      <ion-col\\n              size=\\\"12\\\"\\n              size-xs=\\\"12\\\"\\n              size-sm=\\\"6\\\"\\n              size-md=\\\"4\\\"\\n              size-lg=\\\"3\\\"\\n              *ngFor=\\\"let expense of expenses\\\">\\n        <ion-card color=\\\"light\\\">\\n          <ion-card-header >\\n              <ion-button color=\\\"dark\\\"  align-items-end (click)=\\\"editExpense(expense.expenseId)\\\">\\n                  <ion-icon name=\\\"md-create\\\" color=\\\"light\\\" align-self-center></ion-icon>\\n<!--            <ion-label color=\\\"dark\\\">Edit Expense</ion-label>-->\\n              </ion-button>\\n              <ion-button color=\\\"dark\\\" align-items-end (click)=\\\"deleteExpense(expense.expenseId)\\\">\\n                  <ion-icon name=\\\"md-trash\\\" color=\\\"light\\\" align-self-center></ion-icon>\\n                  <!--  <ion-label color=\\\"dark\\\">Edit Expense</ion-label>-->\\n              </ion-button>\\n            <ion-card-content align-items-center>\\n                <div class=\\\"row\\\" ng-repeat=\\\"data in ctrl.data\\\">\\n                    <div class=\\\"col\\\">Name: {{expense.itemName}}</div>\\n                    <div class=\\\"col\\\">Description: {{expense.itemDescription}}</div>\\n                    <div class=\\\"col\\\">Location: {{expense.location}}</div>\\n                    <div class=\\\"col\\\">Amount: {{expense.amount}}</div>\\n                </div>\\n<!--             {{expense.itemName}}-->\\n<!--             {{expense.itemDescription}}-->\\n<!--             {{expense.location}}-->\\n<!--             {{expense.amount}}-->\\n            </ion-card-content>\\n          </ion-card-header>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport {PapaParseModule} from 'ngx-papaparse';\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewexpensePage } from './viewexpense.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ViewexpensePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n      PapaParseModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ViewexpensePage]\n})\nexport class ViewexpensePageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3ZpZXdleHBlbnNlL3ZpZXdleHBlbnNlLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport {NavigationExtras, Router} from '@angular/router';\nimport {AuthService} from '../../services/auth.service';\nimport {ToastService} from '../../services/toast.service';\nimport {repeat} from 'rxjs/operators';\nimport {NavController} from '@ionic/angular';\nimport {Papa} from 'ngx-papaparse';\n\n@Component({\n  selector: 'app-viewexpense',\n  templateUrl: './viewexpense.page.html',\n  styleUrls: ['./viewexpense.page.scss'],\n})\nexport class ViewexpensePage implements OnInit {\n\n  public expenses: any;\n  userId = 1;\n\n  constructor(private router: Router,\n              private authService: AuthService,\n              private toastService: ToastService,\n              private papa: Papa,\n              public navCtrl: NavController) { }\n\n    ionViewDidEnter() {\n      this.getExpenses(this.userId);\n    }\n\n  ngOnInit() {\n   this.getExpenses(this.userId);\n  }\n\n    deleteExpense(expenseId: any) {\n      this.authService.deleteExpense(expenseId).subscribe((response: any) => {\n          if (response) {\n              this.getExpenses(this.userId);\n          } else {\n              alert('Expense deletion Error!!!');\n          }\n      });\n\n    }\n\n    editExpense(expenseId: any) {\n        const navigationExtras: NavigationExtras = {\n            queryParams: {\n                id: expenseId\n            }\n        };\n\n        this.router.navigate(['/home/addexpense'], navigationExtras);\n\n    }\n\n    getExpenses(userId: any) {\n        this.authService.getExpenses(this.userId).subscribe((response: any) => {\n                if (response) {\n                    this.expenses = response.expenses;\n                    console.log(this.expenses);\n                } else {\n                    this.toastService.presentToast('no Data');\n                }\n            },\n            (error: any) => {\n                this.toastService.presentToast('Network connection Error');\n            });\n    }\n\n    downloadCSV() {\n      const CSV = this.papa.unparse(this.expenses);\n      const blob = new Blob([CSV]);\n      const a = window.document.createElement('a');\n      a.href = window.URL.createObjectURL(blob);\n      a.download = 'expenses.csv';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n}\n"],"sourceRoot":""}